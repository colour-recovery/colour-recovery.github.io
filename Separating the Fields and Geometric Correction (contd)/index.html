<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="search" href="https://colour-recovery.github.io/space/opensearch" type="application/opensearchdescription+xml" title="Wikispaces Search (Colour Recovery Working Group Wiki)" />
<link rel="alternate" type="application/x-wiki" title="Edit This Page" href="/page/edit/Separating+the+Fields+and+Geometric+Correction+%28contd%29" />
<link rel="alternate" title="Colour Recovery Working Group - All Changes" href="https://colour-recovery.github.io/wiki/xmla?v=rss_2_0" type="application/rss+xml" />
<link rel="alternate" title="colour-recovery : Separating the Fields and Geometric Correction (contd) - Discussion" href="https://colour-recovery.github.io/message/xml/Separating+the+Fields+and+Geometric+Correction+%28contd%29?v=rss_2_0" type="application/rss+xml" />
<link rel="alternate" title="colour-recovery : Separating the Fields and Geometric Correction (contd) - Edits" href="https://colour-recovery.github.io/page/xml/Separating+the+Fields+and+Geometric+Correction+%28contd%29?v=rss_2_0" type="application/rss+xml" />
<link rel="microsummary" href="/page/microsummary/Separating+the+Fields+and+Geometric+Correction+%28contd%29/edits"/>
<link rel="microsummary" href="/page/microsummary/Separating+the+Fields+and+Geometric+Correction+%28contd%29/messages"/>
<script type="text/javascript">
  
if (typeof ws === 'undefined') ws = {};
ws.context = {
  instance: {
    id: '1',
    url: 'wikispaces.com',
    isMain: true,
    supportsGoogleDocs: false,
    isTesClassroom: false,
  },
  user: {
    id: '',
    username: '',
    status: '',
    locale: 'en',
    imageUrlPrefix: '../ssl.wikicdn.com/i/user_none_',
    isTeacher: false,
    canAdministerWiki: false,
  },
  wiki: {
    id: '110862',
    name: 'colour-recovery',
    text: 'Colour Recovery Working Group',
    module: 'B',
    isClassroom: false,
    isTesClassroom: false
    ,defaultSpaceId: 110862
    ,isWwwWiki: false
  },
  project: {
    id: '110862',
    name: ''
  },
  space: {
    id: '110862',
    name: 'colour-recovery',
    isDefaultSpace: true,
    isDefaultTemplate: false
  },

  environment_name: 'prod',

  path: {
    object: 'page',
    method: 'view',
    page: 'Separating the Fields and Geometric Correction (contd)',
    id: ''
  },

  settings: {
    main_domain: 'wikispaces.com',
    session_url: 'https://session.wikispaces.com/1/',
    asset_url_prefix: '../ssl.wikicdn.com',
    beta_features: false,
    isMobileSite: false,
    isUploadCapable: true,
    can_discuss: false,
    has_gdocs: false,
    isDialog: false,
    pwin: ''
  },
  clockSkewMillis: 1528198000495 - ((window.performance && window.performance.timing.responseStart > 0) ? window.performance.timing.responseStart : (new Date()).getTime())
}


// legacy javascript API variables, use the above instead
var wikispaces_isUserLoggedIn = !!ws.context.user.id;
var wikispaces_isMain = ws.context.instance.isMain;
var wikispaces_username = ws.context.user.username;
var wikispaces_spaceName = ws.context.space.name;
var wikispaces_projectName = ws.context.project.name;
var wikispaces_wikiName = ws.context.wiki.name;
var wikispaces_wikiText = ws.context.wiki.text;
var wikispaces_isDefaultSpace = ws.context.space.isDefaultSpace;
var wikispaces_method = ws.context.path.method;
var wikispaces_object = ws.context.path.object;
var wikispaces_page = ws.context.path.page;
var wikispaces_id = ws.context.path.id;
var wikispaces_domain = ws.context.instance.url;
var wikispaces_isUserOrganizer = false;
var wikispaces_main_domain = ws.context.settings.asset_url_prefix;
var wikispaces_asset_url_prefix = ws.context.settings.asset_url_prefix;
var wikispaces_beta_features = ws.context.settings.beta_features;
var wikispaces_isMobileSite = ws.context.settings.isMobileSite;
var wikispaces_isUploadCapable = ws.context.settings.isUploadCapable;
var wikispaces_can_discuss = ws.context.settings.can_discuss;
var wikispaces_has_gdocs = ws.context.settings.has_gdocs;

</script><title>Colour Recovery Working Group - Separating the Fields and Geometric Correction (contd)</title>
<meta charset="utf-8" />
<link rel="apple-touch-icon" sizes="144x144" href="../ssl.wikicdn.com/_/z6371z4x/i/logo-144.png" />
<link rel="apple-touch-icon" sizes="114x114" href="../ssl.wikicdn.com/_/j5j77xz3/i/logo-114.png" />
<link rel="apple-touch-icon" sizes="72x72" href="../ssl.wikicdn.com/_/vq8j5432/i/logo-72.png" />
<link rel="apple-touch-icon" href="../ssl.wikicdn.com/_/38515190/i/logo-57.png" />
<link rel="shortcut icon" href="../ssl.wikicdn.com/_/55v9k02z/i/logo-16.png" />
<style type="text/css">
/*
Based on: AquaFluid, http://wpthemepark.com/
Description: WP Theme AquaFluid by Sadish
Version: 1.0
Author: Sadish Balasubramanian
*/

/* Standard theme styles */
*, *:before, *:after {
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}
body {
  font-family: arial, helvetica, sans-serif;
  font-size: 14px;
  line-height: 20px;
  margin: 0;
}
.ws-theme-header-inner,
.ws-theme-body-inner,
.ws-theme-footer-inner,
.ws-theme-content-inner,
.ws-theme-sidebar-inner {
  position: relative;
}
.ws-theme-header-inner:after,
.ws-theme-body-inner:after,
.ws-theme-footer-inner:after,
.ws-theme-content-inner:after,
.ws-theme-sidebar-inner:after,
.ws-theme-menu-inner:after {
  content: " ";
  visibility: hidden;
  display: block;
  height: 0;
  clear: both;
}
.ws-theme-content, .ws-theme-sidebar {
  overflow-x: auto;
}
.ws-theme-footer {
  text-align: right;
}
.ws-theme-footer a, .ws-theme-footer a:hover {
  text-decoration: none;
}
@media (min-width: 768px) {
  .ws-theme-container {
    width: 750px;
    margin-right: auto;
    margin-left: auto;
  }
  .ws-theme-content {
    width: 550px;
    min-height: 384px;
    float: right;
  }
  .ws-theme-sidebar {
    width: 200px;
    float: left;
  }
}
@media (min-width: 992px) {
  .ws-theme-container {
    width: 970px;
  }
  .ws-theme-content {
    width: 770px;
    min-height: 496px;
  }
}
@media (min-width: 1200px) {
  .ws-theme-container {
    width: 1170px;
  }
  .ws-theme-content {
    width: 970px;
    min-height: 600px;
  }
}
/* End standard theme styles */
</style>
<style type="text/css">
/* Theme-specific styles */
body {
  background-color: #CDE;
}

.ws-theme-container {
  margin: 0 5px;
}

.ws-theme-header .WikiSearch .WikiSearchInput,
.ws-theme-sidebar .WikiSearch .WikiSearchInput,
.ws-theme-footer .WikiSearch .WikiSearchInput {
  width: 100%;
}

.ws-theme-header,
.ws-theme-sidebar,
.ws-theme-footer {
  color: #000000;
}
.ws-theme-header a,
.ws-theme-sidebar a,
.ws-theme-footer a {
  color: #0000FF;
  text-decoration: none;
}
.ws-theme-header a:hover,
.ws-theme-sidebar a:hover,
.ws-theme-footer a:hover {
  text-decoration: underline;
}
.ws-theme-header img,
.ws-theme-sidebar img,
.ws-theme-footer img {
  border: none;
}

.ws-theme-header-inner,
.ws-theme-body-inner,
.ws-theme-footer-inner {
  border: #CCC 1px solid;
}

.ws-theme-header,
.ws-theme-sidebar {
  display: none;
}

.ws-theme-body {
  padding-top: 8px;
}
.ws-theme-body-inner {
  border-bottom: none;
  background-color: #FFF;
}

.ws-theme-content {
  overflow-x: visible;
}
.ws-theme-content-inner {
  padding: 13px 15px 26px;
}

.ws-theme-footer {
  font-size: 12px;
  text-align: center;
  padding-bottom: 8px;
}
.ws-theme-footer-inner {
  padding: 10px 15px;
  background: #FFF;
  border-top-color: #000;
}
.ws-theme-footer .WikiLicense img {
  vertical-align: text-bottom;
}

@media (min-width: 768px) {
  body {
    background: #FAFBFC url(../ssl.wikicdn.com/_/68jv1944/i/theme_aqua_blue.jpg) repeat-x top fixed;
  }

  .ws-theme-container {
    width: auto;
    margin: 0 8px;
  }

  .ws-theme-header,
  .ws-theme-sidebar {
    display: block;
  }

  .ws-theme-header {
    display: block;
    padding-top: 20px;
  }
  .ws-theme-header-inner {
    height: 125px;
    padding: 25px 20px;
    background: #483d8b url(../ssl.wikicdn.com/_/xq2j142v/i/theme_aqua_header.jpg) repeat-x bottom;
    border-bottom: none;
  }
  .ws-theme-header .ws-theme-logo {
    float: right;
  }

  .ws-theme-body {
    padding-top: 0;
  }
  .ws-theme-body-inner {
    border-top: none;
    background-color: #EEE;
  }
  .ws-theme-body-inner:before {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 200px;
    background-color: #FFF;
    border-left: 1px solid #CCC;
  }

  .ws-theme-content {
    width: auto;
    margin-left: 200px;
    float: none;
  }
  .ws-theme-content-inner {
    float: left;
    width: 100%;
    padding: 13px 15px 26px;
  }

  .ws-theme-sidebar-inner {
    padding: 0 10px;
  }
  .ws-theme-sidebar .WikiActions {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }
  .ws-theme-sidebar .WikiActions > li {
    padding: 2px;
  }
  .ws-theme-sidebar .WikiCustomNav ol {
    padding-left: 16px;
  }
  .ws-theme-sidebar .WikiCustomNav ol.includePageList {
    padding-left: 0;
  }
  .ws-theme-sidebar .WikispacesNavbar {
    margin: 0 -10px;
    padding: 0 10px;
  }
  .ws-theme-sidebar .ws-theme-nav-edit {
    color: #666;
    text-align: center;
  }
  .ws-theme-sidebar .ws-theme-nav-edit a {
    color: inherit;
  }

  .ws-theme-footer-inner {
    border-top-color: #CCC;
    background: #FFF url(../ssl.wikicdn.com/_/2z687q19/i/theme_aqua_top.gif) repeat-x top;
  }
}

/* End theme-specific styles */
</style>
<link rel="stylesheet" href="../www.wikispaces.com/stylesheet/viewi/217420326D.css" type="text/css" />
<link rel="stylesheet" href="../ssl.wikicdn.com/s/nogz/9jvvjv40-internal-bootstrap.css" type="text/css" />
<link rel="stylesheet" href="../ssl.wikicdn.com/s/nogz/vz033906-internal.css" type="text/css" />
<script src="../ssl.wikicdn.com/s/nogz/84014v41-top.min.js" type="text/javascript"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];

  var wsGoogleAccount = 'UA-80504-1';
  _gaq.push(['_setAccount', wsGoogleAccount]);
  _gaq.push(['_gat._anonymizeIp']);
  _gaq.push(['_setDomainName', 'wikispaces.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_setCustomVar', 2, 'Authenticated', 'Guest', 2]);
  _gaq.push(['_trackPageview']);
</script></head>
<body><a href="#WikiContent" class="hidden sr-only sr-only-focusable">Skip to main content</a><div id="js-fixed-header-holder" class="fixed"><div class="WikispacesContent WikispacesBs3" role="banner">
      
    <div class="ws-main-top-nav visible-xs">
    <div class="navbar navbar-static-top" style="margin-bottom: 0;">
      <div class="container">
                <div class="navbar-header">
          <div class="visible-xs pull-left">
            <a href="/space/menu" class="WikispacesDialogLink btn navbar-btn">
              <i class="fa fa-bars"></i>
            </a>
          </div>
          <div class="visible-xs pull-right js-globalnav-popover-container">
                        <a href="../www.wikispaces.com/site/signin?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529%3FresponseToken%3D18e5737637958d361ee72df2963189c8" class="btn navbar-btn ws-mobile-guest-username js-globalnav-popover-trigger">
              guest
            </a>
                        <div class="hidden js-globalnav-popover-content">
              <div class="WikispacesContent WikispacesBs3">
                <div class="WikiInternalHeaderNav noHide">
  <div class="WikiInternalHeaderNavMenu">
                          
                  <span class="WikiInternalHeaderNavMenuArea"><a href="../www.wikispaces.com/user/join?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2Fspace%2Fjoin" rel="nofollow" class="WikispacesXDomainDialogLink">Join</a></span>

          <span class="divider">|</span>
        
        <span class="WikiInternalHeaderNavMenuArea"><a class="js-help-trigger" rel="nofollow" href="http://helpcenter.wikispaces.com/">Help</a></span>

        <span class="divider">|</span>
      
      <span class="WikiInternalHeaderNavMenuArea"><a href="../www.wikispaces.com/site/signin?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529%3FresponseToken%3D18e5737637958d361ee72df2963189c8" rel="nofollow" class="WikispacesXDomainDialogLink">Sign In</a></span>
      </div>
</div>              </div>
            </div>
          </div>
          <div class="ws-navbar-middle-xs">
            <div class="navbar-brand" role="navigation">
              <a href="../www.wikispaces.com/" class="ws-logo"></a>
              <i class="fa fa-angle-right"></i>
              <a href="https://colour-recovery.github.io/">Colour Recovery Working Group</a>
                              <i class="fa fa-angle-right"></i> <a href="https://colour-recovery.github.io/home">Home</a>
              
            </div>
          </div>
                    <form action="/search/view" method="post" class="navbar-form ws-include-xs pull-left ws-navbar-search hidden-xs" role="search"><input type="hidden" name="wikispacesFormToken" value="9dc47156104eb27bcd53294eb94f478e4c8862fd"/><input type="text" class="form-control search-query" name="q" value="" placeholder="Search" /> </form>
                  </div>
      </div>
    </div>
  </div>
      <div class="hidden-xs"><div class="WikiInternalHeaderNav WikiElement floating">
  <div class="WikiInternalHeaderNavMenu">
                                    <span class="WikiInternalHeaderNavMenuArea guestUserName">guest</span><span class="slideMarker divider">|</span>
        
                  <span class="WikiInternalHeaderNavMenuArea"><a href="../www.wikispaces.com/user/join?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2Fspace%2Fjoin" rel="nofollow" class="WikispacesXDomainDialogLink">Join</a></span>

          <span class="divider">|</span>
        
        <span class="WikiInternalHeaderNavMenuArea"><a class="js-help-trigger" rel="nofollow" href="http://helpcenter.wikispaces.com/">Help</a></span>

        <span class="divider">|</span>
      
      <span class="WikiInternalHeaderNavMenuArea"><a href="../www.wikispaces.com/site/signin?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529%3FresponseToken%3D18e5737637958d361ee72df2963189c8" rel="nofollow" class="WikispacesXDomainDialogLink">Sign In</a></span>
      </div>
</div></div>
  </div></div><div id="js-fixed-header-offset">
<header class="ws-theme-header" role="banner">
  <div class="ws-theme-container">
    <div class="ws-theme-header-inner">
      <div class="ws-theme-logo">
        <a href="https://colour-recovery.github.io/" class="WikiLogo WikiElement"><img src="../logo.jpg" alt="Colour Recovery Working Group" /></a>      </div>
    </div>
  </div>
</header>

<div class="ws-theme-body">
  <div class="ws-theme-container">
    <div class="ws-theme-body-inner">
      <nav class="ws-theme-sidebar" role="navigation">
        <div class="ws-theme-sidebar-inner">
          <div class="ws-theme-menu">
            <div class="ws-theme-menu-inner">
              <ul class="WikiActions WikiElement WikiControls">
    <li id="WikiActionHome"><div><span class="WikiActionSupplemental" style="float: right;"></span><a href="https://colour-recovery.github.io/"><i class="fa fa-home fa-fw"></i></a><a href="https://colour-recovery.github.io/">Wiki Home</a></div></li>
    <li id="WikiActionChanges"><div><span class="WikiActionSupplemental" style="float: right;"></span><a href="/wiki/changes"><i class="fa fa-clock-o fa-fw"></i></a><a href="/wiki/changes">Recent Changes</a></div></li>
    <li id="WikiActionPagesAndFiles"><div><span class="WikiActionSupplemental" style="float: right;"></span><a href="/space/content"><i class="fa fa-file-text-o fa-fw"></i></a><a href="/space/content">Pages and Files</a></div></li>
    <li id="WikiActionMembers"><div class="js-member-link"><span class="WikiActionSupplemental" style="float: right;"></span><a href="/wiki/members"><i class="fa fa-user fa-fw"></i></a><a href="/wiki/members">Members</a></div></li>
</ul>
              <form action="/search/view" method="post" class="WikiSearch WikiElement" role="search"><input type="text" class="form-control WikiSearchInput" name="q" value="" placeholder="Search" /> </form>              <div class="WikiCustomNav WikiElement wiki"><ul><li><h3><a class="wiki_link" href="/Home">Home</a></h3>
</li><li><a class="wiki_link_ext" href="http://colour-recovery.github.io/message/list/home" rel="nofollow">General Announcements</a></li><li><a class="wiki_link" href="/Members">Members</a></li><li><a class="wiki_link" href="/An%20examination%20of%20source%20material">An examination of source material</a></li><li><a class="wiki_link" href="/Background%20information">Background information</a></li><li><a class="wiki_link" href="/Tutorials">Tutorials</a></li><li><a class="wiki_link" href="/Utilities">Utilities</a></li><li><a class="wiki_link" href="/Previous%20work">Previous work</a></li><li><a class="wiki_link" href="/Current%20work">Current work</a></li><li><a class="wiki_link" href="/Future%20work">Future work</a></li></ul></div>              <div class="ws-theme-nav-edit">
                              </div>
            </div>
          </div>
        </div>
      </nav>
      <main class="ws-theme-content" role="main">
        <div class="ws-theme-content-inner">
          <div class="contentBox"><div class="innerContentBox" id="WikiContent">

<script type="text/template" id="comment-footer-template">

<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</script>

<script type="text/template" id="comment-content-template">
<div class="ws-box commentView">
  <div class="comment-close">
    <button type="button" class="closeme close" aria-hidden="true"><i class="fa fa-times"></i></button>
  </div>
  <div class="commentHeader">
    <p class="ws-stream-meta command-context">
      <a class="userLink userLinkPicture" href="<%= userCreated.url %>"><img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16"></a>
      <a href="<%= userCreated.url %>"><%= userCreated.username %></a>
      <% if (smartDate == '__live__') { %>
      <abbr class="timeago" title="<%= (new Date(parseInt(dateCreated, 10) * 1000)).toISOString() %>">
        <%= dateCreated %>
      </abbr>
      <% } else { %>
        <%- smartDate %>
      <% } %>
      <% if (ws.context.user.canAdministerWiki && ws.comments.Manager.readOnly) { %>
        <i class="fa fa-trash-o contextual-command delete ws-tip" title="Delete Comment"></i>
      <% } %>
    </p>
  </div>

  <div class="commentBody">
    <div class="commentContent">
      <%= description %>
    </div>

      <% for(i = 0; i < replyPages.length; i++) { %>
        <% for(var j = 0; j < replyPages[i].digests.length; j++) { %>
      <div class="commentReply" data-id="<%= replyPages[i].digests[j].id %>">
        <p class="ws-stream-meta command-context">
          <a class="userLink userLinkPicture" href="<%= replyPages[i].digests[j].userCreated.url %>"><img class="userPicture" src="<%= replyPages[i].digests[j].userCreated.imageUrl %>" width="16" height="16"></a>
          <a href="<%= replyPages[i].digests[j].userCreated.url %>"><%= replyPages[i].digests[j].userCreated.username %></a>
          <% if (smartDate == '__live__') { %>
          <abbr class="timeago" title="<%= (new Date(parseInt(replyPages[i].digests[j].dateCreated, 10) * 1000)).toISOString() %>">
            <%= new Date(parseInt(replyPages[i].digests[j].dateCreated, 10) * 1000).toLocaleString() %>
          </abbr>
          <% } else { %>
            <%- smartDate %>
          <% } %>
          <% if (ws.context.user.canAdministerWiki) { %>
          <i class="fa fa-trash-o contextual-command delete-reply ws-tip" title="Delete Reply"></i>
          <% } %>
          </p>
        <div class="commentContent"><%= replyPages[i].digests[j].body %></div>
      </div>
        <% } %>
      <% } %>

      <form class="reply commentReply">
        <div class="form-group">
          <textarea name="reply" placeholder="Reply" class="form-control" /></textarea>
        </div>
        <div class="btn-toolbar">
          <button type="submit" class="btn btn-primary btn-sm" name="go" value="1">Post</button>

          <% if (ws.context.user.id) { %>
            <% if (monitored) { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-monitor ws-tip active" title="You are monitoring replies."><i class="fa fa-eye"></i></button>
            <% } else { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-monitor ws-tip" title="You are not monitoring replies."><i class="fa fa-eye"></i></button>
            <% } %>
          <% } %>
          <% if (ws.context.user.canAdministerWiki) { %>
            <% if (locked) { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-lock ws-tip active" title="Replies are not allowed."><i class="fa fa-lock"></i></button>
            <% } else { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-lock ws-tip" title="Replies are allowed."><i class="fa fa-lock"></i></button>
            <% } %>
          <% } %>

          <i class="fa fa-spinner fa-spin spinner pull-right hidden"></i>
        </div>
      </form>
   </div>

   
<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</div>
</script>

<script type="text/template" id="comment-composer-template">
<div class="ws-box commentView">
  <div class="commentComposer">
    <div class="comment-close">
      &nbsp;<button type="button" class="close closeme" aria-hidden="true"><i class="fa fa-times"></i></button>
    </div>
    <div class="commentHeader">
      <p class="ws-stream-meta command-context">
        <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">
        <a href="#" onclick="return false;"><%= userCreated.username %></a>
      </p>
    </div>
    <div class="commentBody">
      <textarea name="comment" class="compose form-control" placeholder="Comment"/></textarea><br/>
      <div class="btn-toolbar">
        <button type="button" class="btn btn-default btn-sm monitored active pull-right" style="margin-left: 6px" onclick="jQuery(this).toggleClass('active')"><i class="fa fa-eye"></i></button>
        <button type="button" class="btn btn-default btn-sm locked btn-toggle pull-right" onclick="jQuery(this).toggleClass('active')"><i class="fa fa-lock"></i></button>
        <button type="button" class="btn btn-primary btn-sm closeme">Save</button>
      </div>
    </div>
  </div>

  
<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</div>
</script>

<script type="text/template" id="comment-proxy-template">
<div class="comment-proxy">
  <span class="commentUser">
  <% if (userCreated) { %>
    <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">
  <% } else { %>
    <img class="userPicture" src="<%= ws.context.user.imageUrlPrefix %>sm.jpg" width="16" height="16">
  <% } %>
  </span>
  <span class="commentReplies"><%= 1 + _(replyPages).reduce(function(memo, page){ return memo + page.digests.length; }, 0) %></span>
</div>
</script>

<div class="ws-menu-bar WikiControls WikispacesContent WikispacesBs3">
  
    <h1 class="pageTitle"><a href="/Separating+the+Fields+and+Geometric+Correction+%28contd%29">Separating the Fields and Geometric Correction (contd)</a></h1>
      <div class="btn-group pull-right">
          <span class="btn btn-default disabled tipme" title="you do not have permission to edit this page"><i class="fa fa-pencil fa-fw"></i> Edit</span>          <a class="btn btn-default tipme" title="view 21 discussion posts" href="/Separating+the+Fields+and+Geometric+Correction+%28contd%29#discussion"><i class="fa fa-comments fa-fw"></i> 21</a>          <a class="btn btn-default tipme" title="view 38 revisions" href="/page/history/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="fa fa-clock-o fa-fw"></i> 38</a>          <a class="btn btn-default ws-btn-more dropdown-toggle tipme" title="more options" href="/page/menu/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="icon-height-only fa-fw"></i>&hellip;</a>        <ul class="ws-more-menu dropdown-menu dropdown-menu-right">
              <li class=" dropdown"><a class=" ws-tag-dropdown-toggle" href="/page/tags/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><span class="pull-right">0</span> <i class="fa fa-tag fa-fw"></i> Tags</a>
          <div class="dropdown-menu dropdown-menu-right ws-tag-dropdown-menu">
          



<form action="#" name="WikiTagForm" class="WikiTagForm"><input type="hidden" name="wikispacesFormToken" value="1c51c2dfacd6733bf9d3431e77bc7f121a157380"/><input type="hidden" name="wikispacesFormToken" value="1c51c2dfacd6733bf9d3431e77bc7f121a157380"/>
  <div class="WikiTagList">
    <i class="fa fa-tag ws-action"></i>
        <ul class="list-unstyled">
          <li>No tags</li>
        </ul>
      </div>
  </form>      </div>
    </li>
              <li class="divider"></li>
            <li class=""><a class=" WikispacesDialogLink" href="https://colour-recovery.github.io/wiki/addmonitor?monitorLink=page%3ASeparating%20the%20Fields%20and%20Geometric%20Correction%20%28contd%29"><i class="fa fa-eye fa-fw"></i> Notify</a>
    </li>
        <li class=""><a class=" WikispacesDialogLink" href="/page/rss/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="fa fa-rss fa-fw"></i> RSS</a>
    </li>
        <li class=""><a class="" href="/page/links/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="fa fa-link fa-fw"></i> Backlinks</a>
    </li>
              <li class="divider"></li>
            <li class=""><a class="" href="/page/code/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="fa fa-code fa-fw"></i> Source</a>
    </li>
        <li class=""><a class="" href="/Separating+the+Fields+and+Geometric+Correction+%28contd%29?f=print"><i class="fa fa-print fa-fw"></i> Print</a>
    </li>
        <li class=""><a class="" href="/page/pdf/Separating+the+Fields+and+Geometric+Correction+%28contd%29"><i class="fa fa-cloud-download fa-fw"></i> Export (PDF)</a>
    </li>
      </ul>  </div>
  </div>




  <textarea class="form-control" id="autosaveContent" style="display:none;" rows="1" cols="1"></textarea>
  <div id="autosavePrompt" style="display:none;"></div>

<div class="commentContainer">
  <div class="commentSubject">
  <div class="wiki wikiPage" id="content_view">
  <br />
<br />
<br />
<u><strong>26th July 2008</strong></u><br />
<br />
Earlier this week I modified the C++ code for Mohan's DeBarrel filter to allow for mixed negative and positive parameters.<br />
This allowed me to test a reverse-mapping to remove moustache-type distortion from the scan-lines, which produced the following vertical contour-map:<br />
<!-- ws:start:WikiTextLocalImageRule:2:&lt;img src=&quot;/file/view/TOTP36_%28DeMoustached%29_%28V%29.jpg/35136035/TOTP36_%28DeMoustached%29_%28V%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTP36_%28DeMoustached%29_%28V%29.jpg/35136035/TOTP36_%28DeMoustached%29_%28V%29.jpg" alt="TOTP36_(DeMoustached)_(V).jpg" title="TOTP36_(DeMoustached)_(V).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:2 --><br />
<br />
Here is the vertical contour-map when using a reverse-mapping for pin-cushion distortion:<br />
<!-- ws:start:WikiTextLocalImageRule:3:&lt;img src=&quot;/file/view/TOTPDEPIN_%28V%29.jpg/35136037/TOTPDEPIN_%28V%29.jpg&quot; alt=&quot;(C) BBC)&quot; title=&quot;(C) BBC)&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTPDEPIN_%28V%29.jpg/35136037/TOTPDEPIN_%28V%29.jpg" alt="TOTPDEPIN_(V).jpg" title="TOTPDEPIN_(V).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC)</td></tr></table><!-- ws:end:WikiTextLocalImageRule:3 --><br />
<br />
Since there were fewer contours on the moustache reverse-mapping, I knew I was on the right track.<br />
However Mohan's filter uses radial coordinates, which produce a radially-deformed reverse-mapping. What was really required was a Cartesian filter.<br />
<br />
Mohan then emailed to let me know he had modified his filter to allow semi-independent x and y distortions, related by a ratio, as well as mixed negative and positive parameters.<br />
<br />
Using ratios of 1.5 and 2, I obtained the following vertical contour-maps:<br />
<!-- ws:start:WikiTextLocalImageRule:4:&lt;img src=&quot;/file/view/Totp36_%28vh%3D1.50%29_%28V%29.jpg/35136047/Totp36_%28vh%3D1.50%29_%28V%29.jpg&quot; alt=&quot;xy ratio = 1.5  (C) BBC&quot; title=&quot;xy ratio = 1.5  (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Totp36_%28vh%3D1.50%29_%28V%29.jpg/35136047/Totp36_%28vh%3D1.50%29_%28V%29.jpg" alt="Totp36_(vh=1.50)_(V).jpg" title="Totp36_(vh=1.50)_(V).jpg" /></td></tr><tr><td class="imageCaption">xy ratio = 1.5  (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:4 --><br />
<!-- ws:start:WikiTextLocalImageRule:5:&lt;img src=&quot;/file/view/Totp36_%28vh%3D2%29_%28V%29.jpg/35136055/Totp36_%28vh%3D2%29_%28V%29.jpg&quot; alt=&quot;xy ratio = 2  (C) BBC&quot; title=&quot;xy ratio = 2  (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Totp36_%28vh%3D2%29_%28V%29.jpg/35136055/Totp36_%28vh%3D2%29_%28V%29.jpg" alt="Totp36_(vh=2)_(V).jpg" title="Totp36_(vh=2)_(V).jpg" /></td></tr><tr><td class="imageCaption">xy ratio = 2  (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:5 --><br />
This is obviously a big improvement on the radial distortion, although probably not the best that could be achieved.<br />
<br />
Mohan's filter requires the parameters to be set by eye, using a grid overlay.<br />
In order to see the scan-lines clearly, I overlaid the grid onto the 288 c/aph waveform.<br />
Then after setting the parameters I substituted the actual frame and performed the distortion.<br />
<br />
I used the following polynomial for the radial function:<br />
<span style="font-size: 120%;">r' = (-0.01r<span style="font-size: 150%;">³</span> + 0.03r<span style="font-size: 150%;">²</span> + 0.98)r</span><br />
<!-- ws:start:WikiTextHeadingRule:0:&lt;h1&gt; --><h1 id="toc0"><!-- ws:end:WikiTextHeadingRule:0 --> </h1>
 (where r' is the source image coordinate, and r is the corrected image coordinate)<br />
The use of an xy ratio produces and oval-shaped distortion, which would have the effect of reducing the values of these parameters along the vertical axis.<br />
<br />
Richard's automated process using CSV files has found this polynomial:<br />
<span style="font-size: 120%;">y' - y = 0.0243x - 0.2545y + 0.0018xy - 0.0008y<span style="font-size: 150%;">²</span> + 0.0001y<span style="font-size: 150%;">³</span></span><br />
<br />
Hence:<br />
<span style="font-size: 120%;">y' = 0.0243x + 0.7455y + 0.0018xy - 0.0008y<span style="font-size: 150%;">²</span> + 0.0001y<span style="font-size: 150%;">³</span></span><br />
<br />
(I have eliminated other terms, which are so small they are negligible)<br />
<br />
As he's not used a quartic equation for the fitting polynomial, it's not possible to determine from this whether moustache distortion is present.<br />
If the CSV file was relative to Richard's distorted reference, this will ofcourse skew the parameters quite substantially. (The &quot;butterfly distortion&quot; in the horizontal contour-map suggests that it was done relative to the distorted reference.)<br />
<br />
The terms in x and xy are most likely due to Distortion B (i.e. distortion caused by the image content, rather than the underlying Distortion A). Since these terms can skew the geometry in either direction depending on the image content, it would be better to find the underlying Distortion A, and use this to deform the reference waveform.<br />
This should produce the best chance of tracking Distortion B.<br />
(N.B. The small cubic term distorts the image in different directions in the left and right halves of frame, and is again probably caused by the unbalanced image content.)<br />
<br />
Another reason for using Distortion A on the reference; rather than trying to deform each source frame individually, is that whenever Richard's process makes an error, it would also produce an error in the reverse mapping function for that frame.<br />
<br />
<br />
Two vivid illustrations of Distortion B are the JS Lights Sequence, and the Paul Temple frame of uniform colour:<br />
In JS Lights, the fast moving spotlights behind Jimmy S. produce an increase in the pin-cushion distortion near the centre of frame, bunching the scan-lines together more strongly.<br />
<br />
In the Paul Temple frame, the luminance is noticeably lower on the righthandside of frame, and hence the horizontal contour-map is asymmetric.<br />
<br />
I decided to test my reverse mapping on the Paul Temple frame, which produced the following vertical contour-map:<br />
<!-- ws:start:WikiTextLocalImageRule:6:&lt;img src=&quot;/file/view/pt450pal_%28DeMoustache2%29_%28V%29.jpg/35136057/pt450pal_%28DeMoustache2%29_%28V%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/pt450pal_%28DeMoustache2%29_%28V%29.jpg/35136057/pt450pal_%28DeMoustache2%29_%28V%29.jpg" alt="pt450pal_(DeMoustache2)_(V).jpg" title="pt450pal_(DeMoustache2)_(V).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:6 --><br />
<br />
Obviously not a good result: so it seems the reverse-mapping parameters for Distortion A would have to be tailored individually to different sources.<br />
<br />
<br />
<u><strong>28th July 2008</strong></u><br />
<br />
Richard has kindly given me his distortion parameters for frame 36 of the TOTP footage.<br />
If x' and y' are the distorted coordinates, with respect to an origin in the centre of frame, then the equations are as follows:<br />
<br />
x' = - 0.922x + 0.0619y - 0.0006x^2 - 0.0024xy - 0.0017y^2<br />
y' = 0.0243x + 0.7455y + 0.0018xy - 0.0008y^2 + 0.0001y^3<br />
<br />
In an attempt to prove that the image content influences the distortion, I have plotted these as a surface manifold:<br />
<!-- ws:start:WikiTextLocalImageRule:7:&lt;img src=&quot;/file/view/Richard%27s_surface1.jpg/35156099/Richard%27s_surface1.jpg&quot; alt=&quot;Surface plot (low grid density) (C) BBC&quot; title=&quot;Surface plot (low grid density) (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Richard%27s_surface1.jpg/35156099/Richard%27s_surface1.jpg" alt="Richard's_surface1.jpg" title="Richard's_surface1.jpg" /></td></tr><tr><td class="imageCaption">Surface plot (low grid density) (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:7 --><br />
<!-- ws:start:WikiTextLocalImageRule:8:&lt;img src=&quot;/file/view/Richard%27s_surface2.jpg/35156109/Richard%27s_surface2.jpg&quot; alt=&quot;Surface plot (high grid density) (C) BBC&quot; title=&quot;Surface plot (high grid density) (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Richard%27s_surface2.jpg/35156109/Richard%27s_surface2.jpg" alt="Richard's_surface2.jpg" title="Richard's_surface2.jpg" /></td></tr><tr><td class="imageCaption">Surface plot (high grid density) (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:8 --><br />
The background grid represents an undistorted surface, and the grid in the foreground is the distorted frame as recorded on the film.<br />
<br />
Since the luminance content is top-heavy, the upper half of the frame has become dilated. (Remember higher luminance means higher beam current, and therefore a stronger pull on the beam from the scan-coils: hence you get image dilation.)<br />
This is especially true of the upper left corner, which has the highest luminance content. The upper left extremity of the BBC1 sign is being dragged towards the scan-coils, which is exactly what you'd expect, since this is the closest point between the scanning beam and the coils. (Electric force being proportional to the inverse square of the distance between the charges, emphasises the drag from the scan-coils at this point of closest approach.)<br />
<br />
The luminance content is also greater in the lefthandside of the image, and therefore we see a vertical dilation of the left of frame.<br />
<br />
I know it's not conclusive, but it's a good indication that a large element of the distortion depends on image content.<br />
<br />
(N.B. This distortion is relative to Richard's pre-distorted reference; but the effect of this is simply to stretch the manifold in it's left and right margins, and therefore it doesn't effect my above conclusions.)<br />
<br />
Thus the effect of localised &quot;breathing&quot; is likely to be quite significant, especially on dark scenes with disjoint areas of high luminance.<br />
This would be quite easy to test on the JS Lights footage, where the spotlights move rapidly across the frame. I would expect the distortion to follow the spotlight.<br />
<br />
Note that the cross-terms in x and y, along with the terms in xy, produce a trapezoid distortion. This gives the illusion of perspective; but is in fact due to the luminance-driven distortions described above.<br />
<br />
Finding the mean or underlying distortion will produce the best chance of tracking all the deviations across all frames.<br />
This could be done by averaging the CSV parameters across all frames; or across a basket of representative frames drawn from throughout the footage.<br />
<br />
Since I expect the underlying distortion to be largely symmetric, I would expect the assymetric terms to drop out of Richard's equations.<br />
So the cubic terms would disappear, in which case a quartic term could be quite significant in producing the best fitting surface.<br />
<br />
The image content would then act as a stresor producing a foliation of manifolds around this underlying topology.<br />
(This is very similar to General Relativity, where space-time manifolds are locally distorted by concentrations of mass/energy.)<br />
<br />
If you plot the negative cubic term against the positive squared term in the y distortion equation, it interestingly produces a half-moustache distortion as shown below:<br />
<!-- ws:start:WikiTextLocalImageRule:9:&lt;img src=&quot;../files/Half_moustache.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="../files/Half_moustache.jpg" alt="Half_moustache.jpg" title="Half_moustache.jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:9 --><br />
<br />
So it seems RIchard's process did pick up the moustache distortion on the lefthandside of frame; but missed it on the right because of the paucity of colour in that region.<br />
<br />
<br />
<strong><u>30th July 2008</u></strong><br />
<br />
In my last write-up I made several glaring errors in my enthusiasm to publish!<br />
<br />
Firstly I got my reference frames mixed up: the equations were in terms of x' and y'; not x and y.<br />
I also got the sign wrong on one term.<br />
<br />
To save further confusion, I will use u and v as the source frame coordinates, and x and y as the undistorted destination frame coordinates.<br />
This gives the TOTP equations as:<br />
<br />
x = 1.078*u - 0.0619*v + 0.0006*(u^2) + 0.0024*u*v + 0.0017*(v^2)<br />
<br />
y = -0.0243*u + 1.2544*v + 0.0007*(u^2) - 0.0018*u*v + 0.0008*(v^2) - 0.0001*(v^3)<br />
<br />
However I now think the higher terms are important after all, so a more accurate version of these equations is:<br />
<br />
x = 1.078*u - 0.0619*v + 0.00064*(u^2) + 0.0024*u*v + 0.0017*(v^2) - 0.000014*(u^3) + 0.000022*(u^2)*v - 0.000062*u*(v^2) + 0.000035*(v^3)<br />
<br />
y = -0.0243*u + 1.2544*v + 0.00068*(u^2) - 0.0018*u*v + 0.0008*(v^2) - 0.000011*u^3 - 0.000028*(u^2)*v - 0.00000011*u*(v^2) - 0.00014*(v^3)<br />
<br />
Likewise for the Paul Temple frame we get:<br />
<br />
x = -1.962 + 1.0969*u - 0.2221*v - 0.005*(u^2) + 0.0019*u*v + 0.0009*(v^2) + 0.000029*(u^3) + 0.0000075*(u^2)*v - 0.000041*u*(v^2) + 0.000057*(v^3)<br />
<br />
y = 9.1406 + 0.186*u + 1.3151*v + 0.00036*(u^2) - 0.00097*u*v - 0.00013*(v^2) - 0.0000089*(u^3) - 0.000021*(u^2)*v + 0.0000038*u*(v^2) - 0.00014*(v^3)<br />
<br />
(Note, unlike TOTP these have a realignment of the origin.)<br />
<br />
These equations produce the following surfaces.<br />
<!-- ws:start:WikiTextLocalImageRule:10:&lt;img src=&quot;/file/view/Richard%27s_TOTP_surface_%28corrected%29.jpg/35178129/Richard%27s_TOTP_surface_%28corrected%29.jpg&quot; alt=&quot;TOTP manifold (C) BBC&quot; title=&quot;TOTP manifold (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Richard%27s_TOTP_surface_%28corrected%29.jpg/35178129/Richard%27s_TOTP_surface_%28corrected%29.jpg" alt="Richard's_TOTP_surface_(corrected).jpg" title="Richard's_TOTP_surface_(corrected).jpg" /></td></tr><tr><td class="imageCaption">TOTP manifold (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:10 --><br />
<!-- ws:start:WikiTextLocalImageRule:11:&lt;img src=&quot;/file/view/Paul_Temple_surface_%28more_precise%29.jpg/35178149/Paul_Temple_surface_%28more_precise%29.jpg&quot; alt=&quot;Paul Temple manifold (C) BBC&quot; title=&quot;Paul Temple manifold (C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/Paul_Temple_surface_%28more_precise%29.jpg/35178149/Paul_Temple_surface_%28more_precise%29.jpg" alt="Paul_Temple_surface_(more_precise).jpg" title="Paul_Temple_surface_(more_precise).jpg" /></td></tr><tr><td class="imageCaption">Paul Temple manifold (C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:11 --><br />
These are in fact the undistorted frames relative to the coordinate system of the distorted frames. In other words they show the deformation that needs to be applied to the distorted frames to produce the undistorted frames. (I.e. I got it backwards in my previous write-up!)<br />
<br />
You can see that the areas of high luminance are in fact more compressed; not more dilated, and this is the opposite of what I expected.<br />
<br />
I don't know the details of the EHT power system and how it affects picture breathing, but I believe it's to do with poor power supply regulation. So could it be that a stronger beam draws more current, taking power away from the scan-coils? This could produce a local contraction of the picture in brighter areas.<br />
<br />
Anyway back to the maths:<br />
You can see that the manifolds for both TOTP and Paul Temple are shaped exactly the same, they've just been rotated differently and are viewed at a slightly different perspective.<br />
<br />
Assuming that the rotation and perspective are a result of Distortion B (i.e. produced by the image content), you can remove them by taking away the cross terms in u and v, and the terms in u*v.<br />
<br />
This leaves you with the following equations for the TOTP footage:<br />
<br />
x = 1.078*u + 0.00064*(u^2) + 0.0017*(v^2) - 0.000014*(u^3) + 0.000022*(u^2)*v - 0.000062*u*(v^2) + 0.000035*(v^3)<br />
<br />
y = 1.2544*v + 0.00068*(u^2) + 0.0008*(v^2) - 0.000011*u^3 - 0.000028*(u^2)*v - 0.00000011*u*(v^2) - 0.00014*(v^3)<br />
<br />
The surface is shown below:<br />
<!-- ws:start:WikiTextLocalImageRule:12:&lt;img src=&quot;/file/view/TOTP_Underlying_distortion_%283rd_guess%29.jpg/35178191/TOTP_Underlying_distortion_%283rd_guess%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTP_Underlying_distortion_%283rd_guess%29.jpg/35178191/TOTP_Underlying_distortion_%283rd_guess%29.jpg" alt="TOTP_Underlying_distortion_(3rd_guess).jpg" title="TOTP_Underlying_distortion_(3rd_guess).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:12 --><br />
<br />
This could be the underlying symmetry.<br />
However, I have yet to see the distortion polynomials for a frame that has more luminance content on the righthandside, or in the lower part of frame. Such frames could produce mirror-image distortions due to the different image content skewing the geometry in the opposite direction.<br />
<br />
If this is the case, then we need to remove the assymetric terms from the equations to get the underlying distortion, which leaves us with:<br />
<br />
x = 1.078*u + 0.0006*(u^2) - 0.000062*(v^2)*u<br />
<br />
y = 1.2544*v + 0.0008*(v^2) - 0.000028*(u^2)*v<br />
<br />
Here is the surface plot:<br />
<!-- ws:start:WikiTextLocalImageRule:13:&lt;img src=&quot;/file/view/TOTP_Underlying_distortion_%282nd_guess_with_no_quartic_term%29.jpg/35178207/TOTP_Underlying_distortion_%282nd_guess_with_no_quartic_term%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTP_Underlying_distortion_%282nd_guess_with_no_quartic_term%29.jpg/35178207/TOTP_Underlying_distortion_%282nd_guess_with_no_quartic_term%29.jpg" alt="TOTP_Underlying_distortion_(2nd_guess_with_no_quartic_term).jpg" title="TOTP_Underlying_distortion_(2nd_guess_with_no_quartic_term).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:13 --><br />
Obviously the parameters will need fine-tuning to produce the proper scaling; but the basic form is there.<br />
<br />
Partly from intuition, as well as observation, I would also add a quartic term to the y distortion, to produce a moustache-type distortion in the scan-lines, thus:<br />
<br />
x = 1.078*u + 0.0006*(u^2) - 0.000062*(v^2)*u<br />
<br />
y = 1.2544*v + 0.0008*(v^2) - 0.000028*(u^2)*v + 0.00002*(u^4)*(0.0001*v)<br />
<br />
(I have no idea of the correct magnitude for this term: so it's a complete guestimate.)<br />
<br />
These equations produces the following manifold:<br />
<!-- ws:start:WikiTextLocalImageRule:14:&lt;img src=&quot;/file/view/TOTP_Underlying_distortion_%282nd_guess%29.jpg/35178225/TOTP_Underlying_distortion_%282nd_guess%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTP_Underlying_distortion_%282nd_guess%29.jpg/35178225/TOTP_Underlying_distortion_%282nd_guess%29.jpg" alt="TOTP_Underlying_distortion_(2nd_guess).jpg" title="TOTP_Underlying_distortion_(2nd_guess).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:14 --><br />
<br />
It's also quite interesting to look at the rotation and perspective-free equations with only the cubic terms removed:<br />
<br />
x = 1.078*u + 0.00064*(u^2) + 0.0017*(v^2) + 0.000022*(u^2)*v - 0.000062*u*(v^2)<br />
<br />
y = 1.2544*v + 0.00068*(u^2) + 0.0008*(v^2) - 0.000028*(u^2)*v - 0.00000011*u*(v^2)<br />
<br />
This gets rid of another assymetry, and could be a possible candidate for the underlying distortion.<br />
It's surface is shown below:<br />
<!-- ws:start:WikiTextLocalImageRule:15:&lt;img src=&quot;/file/view/TOTP_Underlying_distortion_%28no_cubic_terms%29.jpg/35178261/TOTP_Underlying_distortion_%28no_cubic_terms%29.jpg&quot; alt=&quot;(C) BBC&quot; title=&quot;(C) BBC&quot; /&gt; --><table class="captionBox"><tr><td class="captionedImage"><img src="/file/view/TOTP_Underlying_distortion_%28no_cubic_terms%29.jpg/35178261/TOTP_Underlying_distortion_%28no_cubic_terms%29.jpg" alt="TOTP_Underlying_distortion_(no_cubic_terms).jpg" title="TOTP_Underlying_distortion_(no_cubic_terms).jpg" /></td></tr><tr><td class="imageCaption">(C) BBC</td></tr></table><!-- ws:end:WikiTextLocalImageRule:15 --><br />
For these to be tested will require the new version of Richard's software.<br />
The distortions could then be applied to the reference (once I have scaled them suitably).<br />
<br />
<br />
<strong><u>7th September 2008</u></strong><br />
<br />
Whilst investigating various surface-modelling software, I've been reminded that thus far we have only been looking at a tiny sub-group of all possible 2D surface distortions.<br />
It's very likely that a better surface model could be found which is more naturally in tune with this system.<br />
Then fewer parameters would be required to match the distortion, thus saving on CPU-time.<br />
<br />
The EM and Dirac fields (i.e. electrons) both have a natural Lorentz symmetry: so the Lorentz Group could be a suitable candidate.<br />
However the luminance-driven element of the distortion makes it look more like General Relativity to me.<br />
<br />
Instead of a 4D space-time distortion being generated by the local mass-distribution, you have a 2D surface distortion being generated by the luminance distribution on the screen.<br />
So the maths should be similar to GR; but in 2 dimensions rather than 4.<br />
<br />
This would suggest the Diffeomorphism Group could be a candidate surface model; probably with some constraints applied (e.g. to replace radial symmetry with Cartesian asymmetry).<br />
<br />
Another parallel with GR is the fixed element of the distortion. This mirrors the global space-time warping produced by the Universe as a whole (used to define the meaning of an inertial field).<br />
<br />
Unfortunately I don't have the expertise in topology to take this any further.<br />
<br />
On a more basic level, I do still think it would be a good idea to remove any distortion terms known to be luminance-driven, before warping the reference. This should mimic the effect of averaging the distortion measurements over the whole of the footage to be processed, without actually having to perform this averaging.<br />
<br />
I had hoped to determine which terms in the polynomial are luminance-driven; but cannot proceed any further on this without more source material. (Though I've had a fair stab at guessing in my previous write-up.)<br />
<br />
To answer Richard's doubts about the origins of the distortion, I would make the following points:<br />
<br />
We know from the Poisson Equation in Electrostatics, that a curved charged surface will produce a curved field. So at any given instant the field lines inside the tube will be curved.<br />
The linearity of the scanning beam can only be set for a given picture content. So as soon as the picture content changes, the scan-lines will start to curve again, and the underlying curvature in the field will reassert itself. Thus I don't believe it's possible to completely remove the imprint of the field curvature.<br />
(Similarly any thermal-drift in the compensating circuitry will cause the scan-lines to become curved, and the circuitry of the era was much more thermally sensitive than it is today.)<br />
<br />
From the evidence I've seen so far the CRT distortions seem to dominate over distortions produced by the film camera.<br />
So if you could tease out those distortion terms caused by the luminance distribution, then you could rewrite the distortion equation in terms of a luminance field L(x,y). Thus you would have a model based on luma rather than chroma (useful where there's no colour information).<br />
<br />
<br />
<strong><u>11th December 2008</u></strong><br />
<br />
With the NFT event coming up on Sunday, I thought this would be a good time to write up my latest thoughts on geometric correction.<br />
<br />
Taking my cue from General Relativity, I have concluded that the most natural reference frame to use would be the fixed distortion inherent in the film recorder system.<br />
Richard is already doing this to some extent by stretching the right and left margins of the reference signal; but a more rigorous distortion would be required to match the fixed distortion more closely.<br />
<br />
I've already outlined above how the fixed and transient distortions may be separated, using Richard's displacement measurements.<br />
<br />
Once you have measured and determined the fixed distortion, this could then be used to deform the reference signal, after which the source footage could be run through Richard's software a second time.<br />
The resulting displacement measurements would then correspond only to the transient distortions, which I believe are produced mostly by the luminance distribution.<br />
<br />
In Gravitational Field Theory, the space-time manifold expands in areas of high mass-energy. However in this case we appear to have the exact opposite effect: with the 2D manifold contracting in areas of high luminance.<br />
Therefore we can write:<br />
<br />
delta_x(u,v) = c/L(u,v)<br />
<br />
where (u,v) is the coordinate system of the fixed distortion, delta_x(u,v) is the x-displacement at coordinate (u,v), c is a constant, and L(u,v) is the luminance field.<br />
<br />
Thus:<br />
<br />
c = L(u,v) * delta_x(u,v)<br />
<br />
If I'm correct then c should turn out to be constant across the frame, (and across all other frames).<br />
<br />
Similarly we need to determine a constant k for the y displacement function delta_y(u,v).<br />
<br />
So once c and k have been determined, we now have a model for reversing the transient distortions in every frame, even where there is no chroma.<br />
The simplicity of this formula makes reversing the geometry less CPU-hungry, and therefore it should be more practical.<br />
<br />
Should c and k turn out not to be constants, then we would need to replace them with functions c(u,v) and k(u,v).<br />
Then use a surface fitting technique (such as linear regression) to find the form of these functions. However they should be quite simple.<br />
<br />
It's important to note that we're now using three different reference frames:<br />
1) the source footage reference frame, which I'll call (a,b),<br />
2) the reference frame corresponding to the fixed distortion (u,v),<br />
3) the undistorted reference frame (x,y).<br />
So to get from L(a,b) to L(x,y) we need to transform reference frames twice (i.e. we need to apply two consecutive deformations to each frame). In other words we would first reverse the fixed distortion, then reverse the transient distortions.<br />
<br />
The resulting footage could be processed through the PAL Transform Decoder, thus recovering the colour information.<br />
That would solve the problem of excessive cross-colour, when the vertical signal at 216 cycles is too attenuated to be useful (e.g. in the &quot;Dr. Who&quot; test footage). Since the Transform Decoder can use temporal frequencies to distinguish chroma from luma.<br />
It would also allow reliable field separation, provided the vertical sampling frequency of the source material was sufficient.<br />
<br />
(It's interesting to note that since luminance and displacement are inversely proportional, then plotting the function c/delta_x as luminance should produce the original picture content without even referring to the luma values in the distorted frame.<br />
Not very useful in practice though, since the delta_x values are measured on a block-by-block basis: so the picture definition would be substantially reduced. Also the luma would disappear entirely in monochrome regions of the frame.)<br />
<br />
The key point in the above, is that using the most natural coordinate system allows for the simplest reverse mapping function, and is therefore more practical in terms of computer power.<br />
It may still prove to be unachievable for the moment, but this will change once CPU speeds increase in the future.<br />
<br />
Some vertical jitter correction would probably need to be applied right at the start of the process, otherwise the Transform Decoder may not be able to lock onto the line structure.<br />
<br />
In all the above I'm assuming the film-derived distortions are infrequent and trivial enough to be ignored; but obviously these would produce errors as they're not encompassed in the model.
  </div>

<div id="pageEditor" class="editorWrapper editorLayer">
  <iframe id="target_editor" name="target_editor" src="/s/blank.html" style="width:0px;height:0px;border:0"></iframe>
    <form action="/page/edit/Separating+the+Fields+and+Geometric+Correction+%28contd%29" method="post" class="editorForm" id="editorForm"><input type="hidden" name="wikispacesFormToken" value="9753e74354a3fbe444e4549a38810a3df3c49c94"/><div class="movkp"><input type="text" class="form-control" name="wikispaces_user_id" value="user-1528198000"/></div><div class="wsh"><input type="text" class="form-control" name="goto" autocomplete = "off"/></div><div class="jovise"><input type="text" class="form-control" name="mode" autocomplete = "off"/></div><div class="movkp"><input type="text" class="form-control" name="version" autocomplete = "off"/></div><div class="jovise"><input type="text" class="form-control" name="pageComments" autocomplete = "off"/></div><div class="mimw"><input type="text" class="form-control" name="saveAndContinue" autocomplete = "off"/></div><div class="movkp"><input type="text" class="form-control" name="comment" autocomplete = "off"/></div><div class="jovise"><input type="text" class="form-control" name="commentsDisabled" autocomplete = "off"/></div><div class="jovise"><input type="text" class="form-control" name="contentPresent" autocomplete = "off"/></div><div class="jovise"><input type="text" class="form-control" name="editorCleanup" autocomplete = "off"/></div><div class="jowic"><input type="text" class="form-control" name="WikispacesEditorContent" autocomplete = "off"/></div><input type="hidden" name="wikispacesASFormToken" value="5b12506474a267f315acda0eb9b1f8c17d09fc88"/>
    <input type="hidden" title="goto" name="ee136ae14e0f0c0b4027a1df1f02b953935772f9" value=""/>
    <input type="hidden" title="mode" name="63fdefff7e97b3883629069ae29e29fd9dd21da9" autocomplete="off" value="visual"/>
    <input type="hidden" title="version" name="b5c0bf4a9c980bdbd29cc478cbe3959f61cd2a00" autocomplete="off" value="51668735"/>
    <input type="hidden" title="pageComments" name="15c2cd1d987d5da011f02aa53b3b40d8640e680b" autocomplete="off" value=""/>
    <input type="hidden" title="saveAndContinue" name="63b047ccc5a303f6166a518d454ca2f2c1782c31" value="0"/>
    <input type="hidden" title="comment" name="d65b21985e9d3c8247dee6c8005a6008933f6c6b" value=""/>
    <input type="hidden" title="commentsDisabled" name="29dc2df43ae5a70451204c95c465c00e0a151e0e" autocomplete="off" value=""/>
    <input type="hidden" title="contentPresent" name="029fe935f4cce8982ab0e2e9f552cb753fbffdde" autocomplete="off" value=""/>
    <input type="hidden" title="editorCleanup" name="676cb5abedf80ddc33bdfcace5a3c617f84154de" autocomplete="off" value=""/>

    <textarea id="wsMainEditor" title="content" class="noContentHide" name="564de535cbcc63fb87596c448ed87cac4357c082" style="width: 100%; position: absolute; top: -50000px; left: -50000px;" autocomplete="off"></textarea>

  <noscript>
    <h2>Javascript Required</h2>
    <p>You need to enable Javascript in your browser to edit pages.</p>
  </noscript>

  </form>
  
  
  <div id="plainTextEditor" style="position:relative;display:none" class="editorLayer" >
    <textarea id="textEditor" class="autogrow"></textarea>
    <p style="clear:both;" align="right"><a href="http://helpcenter.wikispaces.com/customer/portal/articles/1959131-wikitext">help on how to format text</a></p>
  </div>
</div>




  </div>
  <div class="commentColumn WikispacesStream"><div class="WikispacesContent WikispacesBs3"><div class="commentList"></div></div></div>
</div>

  




<script type="text/template" id="js-event-template">
  <small>
    <%- startDateShortFormat %>
    <a href="<%- ws.common.pathFor('event', 'view', id) %>" class="WikispacesDialogLink">
      <%- ws.common.truncate(title, 15) %>
    </a>
  </small>
</script>

<script type="text/template" id="js-reply-template">
  <div class="tc-timeline-comment media">

    <a class="pull-left userLink" href="<%- userCreated.url %>">
      <img src="<%- userCreated.imageUrl %>" width="30" height="30" class="author-avatar" alt="" />
    </a>
    <div class="media-body" data-id="<%= id %>">
      <% if (ws.context.user.canAdministerWiki) { %>
        <i class="tc-delete-comment fa fa-trash-o contextual-command destroy-message ws-tip" title="Delete reply"></i>
      <% } %>
      <div class="tc-box-name-date">
        <span class="tc-commenter"><a href="<%- userCreated.url %>"><%- userCreated.username %></a></span>
        <% if (smartDate == '__live__') { %>
        <abbr style="border-bottom-style: none;" class="timeago tc-comment-date" title="<%- (new Date(parseInt(dateCreated) * 1000)).toISOString() %>">
          <%- (new Date(parseInt(dateCreated) * 1000)).toDateString() %>
        </abbr>
        <% } else { %>
          <abbr style="border-bottom-style: none;" class="tc-comment-date"><%- smartDate %></abbr>
        <% } %>
      </div>
      <% if (body) { %>
      <p>
        <%= body %>
      </p>
      <% } %>
    </div>
  </div>
</script>

<script type="text/template" id="js-share-template">
  <div class="tc-timeline-block tc-<%= ws.stream.typeToBlockType(sharedType) %>-block" <%= (ws.stream.hideTimeline ? 'style="padding-left: 0px;"' : '') %>>

    <% if (!ws.stream.hideTimeline) { %>
      <div class="tc-timeline-icon">
        <i class="fa fa-<%= ws.stream.typeToIcon(sharedType) %>"></i>
      </div>
      <div class="tc-timeline-triangle-man"></div>
    <% } %>

    <div class="tc-timeline-box" data-id="<%= id %>">
      <div class="media">
        <a class="pull-left userLink" href="<%- userCreated.url %>">
          <img src="<%- userCreated.imageUrl %>" width="48" height="48" class="author-avatar media-object" alt="" />
        </a>

        <div class="media-body">

          <div class="tc-stream-dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="fa fa-chevron-down"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
              <% if (ws.context.user.id) { %>
              <li>
                <a class="js-toggle-monitor" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-eye"></i>
                  <span><%= monitored ? 'Start Monitoring' : 'Stop Monitoring' %></span>
                </a>
              </li>
              <% } %>

              <% if (ws.context.user.canAdministerWiki) { %>
              <li>
                <a class="js-toggle-lock" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-lock"></i>
                  <span><%= locked ? 'Unlock Replies' : 'Lock Replies' %></span>
                </a>
              </li>
              <% if (sharedType == 'discussion' || sharedType == 'comment' || sharedType == 'event') { %>
              <li>
                <a class="js-destroy-share" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-trash-o"></i>
                  Delete <%= ws.stream.typeToName(sharedType) %>
                </a>
              </li>
              <% } %>
              <% } %>
            </ul>
          </div>

          <div class="tc-timeline-box-header ws-reveal media-heading">
              <h3 class="tc-box-title">
              <% if (typeof adminLink !== 'undefined' && adminLink && ws.context.user.canAdministerWiki) { %>
                <a href="<%- adminLink %>"><%- title %></a>
              <% } else { %>
                <%- title %>
              <% } %>
              <% if (typeof startDate !== 'undefined' && startDate) { %> - <%= startDateShortFormat %> <%= ws.stream.getYearFromStartDate(startDate) %><% } %>
              </h3>
              <div class="tc-box-name-date">
                <% if (ws.context.instance.isTesClassroom) { %>
                  <%- userCreated.username %>
                <% } else { %>
                  <a class="author-name" href="<%- userCreated.url %>"><%- userCreated.username %></a>
                <% } %>
                <% if (typeof recipients !== 'undefined' && recipients) { %>
                  <i class="fa fa-angle-right"></i>
                  <% if (typeof recipientsLink !== 'undefined') { %>
                    <a href="<%- recipientsLink %>"><%- recipients %></a>
                  <% } else { %>
                    <span class="recipients"><%- recipients %></span>
                  <% } %>
                <% } %>
                <% if (smartDate == '__live__') { %>
                  <abbr style="border-bottom-style: none;" class="timeago tc-block-date" title="<%= (new Date(parseInt(dateCreated) * 1000)).toISOString() %>">
                    <%= (new Date(parseInt(dateCreated) * 1000)).toDateString() %>
                  </abbr>
                <% } else { %>
                  <abbr style="border-bottom-style: none;" class="tc-block-date"><%- smartDate %></abbr>
                <% } %>
              </div>
          </div>

          <div class="<%= sharedType == 'comment' && !orphaned && !ws.stream.noCollapse ? 'hidden ' : '' %>tc-block-content">
            <div class="clearfix">
              <% if (typeof rangeActions !== 'undefined') { %>
                <div class="tc-range-actions">
                  <% for(var i = 0; i < rangeActions.length; i++) { %>
                  <%= ws.stream.rangeActionTemplate(rangeActions[i]) %>
                  <% } %>
                </div>
              <% } %>
              <% if (description) { %>
                <p><%= description %></p>
              <% } %>
            </div>
          </div>

          <% if (replyPages.length > 0 && !(replyPages.length === 1 && replyPages[0].digests.length === 0)) { %>
            <div class="tc-timeline-comments">
            <% for (var i = 0; i < replyPages.length; i++) { %>
              <% if (i == 0 && replyPages[i].more) { %>
                <a href="#" class="tc-show-more" onclick="ws.stream.pageReplies(<%= id %>, <%= replyPages[i].page + 1 %>); return false">Show more replies (<%= replyPages[i].more %> hidden) </a>
              <% } else { %>
                <div></div>
              <% } %>
              <% for (var j = 0; j < replyPages[i].digests.length; j++) { %>
                <%= ws.stream.replyTemplate(replyPages[i].digests[j]) %>
              <% } %>
            <% } %>
            </div>
          <% } %>

          <% if ((ws.stream.userCanPostMessage && !locked) || ws.context.user.canAdministerWiki) { %>
          <div class="tc-add-comment media <%= ws.stream.noCollapse ? 'add-active' : ''%>">
            <img src="<%- ws.context.user.imageUrlPrefix %>lg.jpg" width="30" height="30" class="pull-left author-avatar" alt="" />
            <div class="media-body">
              <textarea name="reply" placeholder="Comment" class="form-control form-control-tc ws-reveal <%= !ws.stream.noCollapse ? 'ws-unrevealed' : ''%> reply" /></textarea>
              <button type="button" class="btn-tc btn-info-tc btn-sm-tc add-reply">Post</button>
            </div>
          </div>
          <% } %>
        </div>

      </div>
    </div>
  </div>
</script>

<script type="text/template" id="js-range-action-template">
  <div>
    <strong><%- name %></strong>
    <% if (typeof(diffUrl) !== 'undefined') { %>
      <a href="<%- diffUrl %>">
    <% } %>
    <%= new Date(dateCreated * 1000).toLocaleString() %>
    <% if (typeof(diffUrl) !== 'undefined') { %>
      </a>
    <% } %>
    <% if (typeof(rangeText) !== 'undefined') { %>
      <div>
        <span class="commentExtent">
        <% if (typeof(diffUrl) !== 'undefined') { %>
          <a href="<%- diffUrl %>">
        <% } %>
        <%= rangeText %>
        <% if (typeof(diffUrl) !== 'undefined') { %>
          </a>
        <% } %>
        </span>
      </div>
    <% } %>
  </div>
</script>

<script type="text/template" id="js-stream-end-template">
  <div class="tc-timeline-block tc-end-block">
    <div class="tc-timeline-icon" style="margin-top: -10px;" />
    <div class="tc-timeline-box" style="visibility: hidden;">
      <p class="tc-box-title"></p>
    </div>
  </div>
</script>

<a name="discussion"></a>
<div class="timeline WikispacesBs3 tc-timeline-embedded show-border">
  <div class="timeline-line"></div>
    <div id="js-share-list">
    <div class="spinner hidden"><i class="fa fa-spinner fa-spin"></i></div>
  </div>
</div></div></div><div id="sentinel" style="clear:both"></div>        </div>
      </main>
    </div>
  </div>
</div>

<footer class="ws-theme-footer" role="contentinfo">
  <div class="ws-theme-container">
    <div class="ws-theme-footer-inner">
      <div class="WikiFooterNav WikiElement">
<a href="http://helpcenter.wikispaces.com/" rel="nofollow" class="js-help-trigger">Help</a> &middot;
<a href="../www.wikispaces.com/about">About</a> &middot;
<a href="../www.wikispaces.com/content/pricing" rel="nofollow">Pricing</a> &middot;
<a href="../www.wikispaces.com/privacy" rel="nofollow">Privacy</a> &middot;
<a href="../www.wikispaces.com/terms" rel="nofollow">Terms</a> &middot;
<a href="../www.wikispaces.com/site/help?url=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529%3FresponseToken%3D18e5737637958d361ee72df2963189c8" rel="nofollow"><strong>Support</strong></a> &middot;
<a href="/space/subscribe/upgrade"><strong>Upgrade</strong></a>
</div>      <div class="WikiLicense WikiElement">Contributions to https://colour-recovery.github.io/ are licensed under a <a rel="license" href="http://www.creativecommons.org/licenses/by-sa/2.5">Creative Commons Attribution Share-Alike 2.5 License</a>. <a rel="license" href="http://www.creativecommons.org/licenses/by-sa/2.5"><img src="../ssl.wikicdn.com/i/creativecommons/by-sa_2.5_80x15.png" width="85" height="15" alt="Creative Commons Attribution Share-Alike 2.5 License"/></a><br />Portions not contributed by visitors are Copyright 2018 Tangient LLC<br /><a href="https://www.tes.com/us/?utm_source=wikispaces&utm_medium=link&utm_campaign=US-52-footer">TES: The largest network of teachers in the world</a></div>    </div>
  </div>
</footer>


<script type="text/template" id="dialog-template">
<div class="modal fade" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
        <h4 class="modal-title"><%= header %></h4>
      </div>
      <div class="modal-body">
        <%= body %>
      </div>
    </div>
  </div>
</div>
</script>


<div id="js-help-template" class="hidden">
  <div class="ws-help">
    <div class="js-help-controls WikispacesContent WikispacesBs3">
      <a href="../www.wikispaces.com/site/gettingstarted/off" class="btn btn-default hidden js-getting-started-off pull-right">Turn off "Getting Started"</a>
      <ol class="breadcrumb">
        <li class="js-special-breadcrumb active">
          <a href="http://helpcenter.wikispaces.com/" data-breadcrumb="0">Home</a>
        </li>
        <li class="js-ellipsis hidden js-special-breadcrumb">
          ...
        </li>
        <li class="js-spinner hidden js-special-breadcrumb"><i class="fa fa-spinner fa-spin"></i></li>
      </ol>
    </div>
    <div class="ws-help-content wiki">Loading...</div>
  </div>
</div>
</div>
<script src="../ssl.wikicdn.com/s/nogz/6q86j8zz-common.min.js" type="text/javascript"></script>
<script src="../ssl.wikicdn.com/s/nogz/70163536-editorc.min.js" type="text/javascript"></script>
<script src="../ssl.wikicdn.com/s/nogz/85k7018k-stream.min.js" type="text/javascript"></script>
<script src="../ssl.wikicdn.com/s/nogz/91k8z207-contentbar.min.js" type="text/javascript"></script>
<script src="../ssl.wikicdn.com/s/nogz/395j1vq7-component.stream-vo.min.js" type="text/javascript"></script>
<script type="text/javascript">
<!--
ws.namespace('ws.attributes');
ws.namespace('ws.stream');
ws.attributes.DISCUSSION_COUNT = 21;
ws.attributes.pageId = 5153355;
ws.attributes.version = 51668735;
ws.attributes.showEditor = true;
ws.attributes.editUrl = "https:\/\/colour-recovery.wikispaces.com\/page\/edit\/Separating+the+Fields+and+Geometric+Correction+%28contd%29?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529";
ws.attributes.userCanEdit = false;
ws.stream.userCanPostMessage = false;
ws.stream.hideTimeline = true;
ws.stream.shareSource = "https:\/\/colour-recovery.wikispaces.com\/page\/shares\/Separating+the+Fields+and+Geometric+Correction+%28contd%29";

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

jQuery(document).ready(function() {
  ws.common.addJsonNotices({"warning":[],"error":[],"info":[],"success":[]});
});

jQuery(document).ready(function() {
  ws.common.addNotice("<script type=\"text\/javascript\">function wsDismissBanner() { ws.common.removeNotice();  ws.cookie.set(\"wsFirstPartShutdown\", 1, {expires: 365 * 86400, domain: \".wikispaces.com\"}); return false;}$(\".ui-pnotify-closer\").remove();<\/script><i class=\"fa fa-times fa-fw ws-close\" onclick=\"wsDismissBanner();\"><\/i>It\u2019s time for us to say farewell\u2026 Classroom and Free Wikis are closing Soon!<br\/>Find out more about the full Wikispaces Site Closure <a href='http:\/\/blog.wikispaces.com' target='_top'>HERE<a\/>", "warning");
});

jQuery(document).ready(function($) {
  
  function tipPlacement() {
    return this.$element.closest('.ws-menu-bar .btn-group').is('.open') ? 'top' : 'bottom';
  }

  

  $('.ws-menu-bar').each(function() {
    var $menuBar = $(this);
    var $tagDropdown = $menuBar.find('.ws-tag-dropdown-menu');
    $menuBar.find('.tipme').tooltip({placement: tipPlacement, container: '.ws-menu-bar'});

    
    $menuBar.find('.ws-btn-more').click(ws.common.makeLinkClickFunction(function(e) {
      if ($(this).closest('.ws-menu-bar .btn-group').is('.open')) {
        ws.common.hideMorePageBar();
      } else {
        ws.common.showMorePageBar();
      }
    }));

    $menuBar.on('click', '.ws-tag-dropdown-toggle', ws.common.makeLinkClickFunction(function(e) {
      if ($(this).closest('.ws-menu-bar .dropdown').is('.open')) {
        ws.common.hideTagDropdown();
      } else {
        ws.common.showTagDropdown();
      }
    }));

    $(document.body).click(function(e) {
      var $target = $(e.target);
      if (!$target.closest('.ws-more-menu').closest('.ws-menu-bar').is($menuBar)
          || $target.closest('a').is('.WikispacesDialogLink')) {
        ws.common.hideMorePageBar();
      }
      if ($tagDropdown.length && !$target.closest('.ws-tag-dropdown-menu').is($tagDropdown)) {
        ws.common.hideTagDropdown();
      }
    });
    
  });
});


jQuery(document).ready(function($) {
  $('.ws-more-menu').on('click', 'a', function(e) {
    if ($(this).is('.disabled')) {
      e.preventDefault();
    }
  });
});


jQuery(document).ready(function() {
  ws.editor.canEdit = false;
  var editUrl = 'https://colour-recovery.github.io/page/edit/Separating+the+Fields+and+Geometric+Correction+%28contd%29?goto=https%3A%2F%2Fcolour-recovery.wikispaces.com%2FSeparating%2520the%2520Fields%2520and%2520Geometric%2520Correction%2520%2528contd%2529';

  jQuery('#js-edit-from-template').change(function() {
    window.location = ws.common.addUriParams(editUrl, [['template', jQuery(this).val()]]);
  });
});


jQuery(document).ready(function() {
  ws.editor.loadEditorLibs('../www.wikispaces.com/site/editorlibs/en/11kk95v9.js');
});


ws.editor.startEditor = function (moreCoreOptions, moreMainOptions) {
  ws.editor.canEdit = true;

  var coreOptions = {
    'content_css': ['../www.wikispaces.com/stylesheet/editori/217420326D.css']
  };

  // The stylesheet is passed in as a string, turn it into an array
  // Add bootstrap styles to the editor, if we are in a theme that has full screen bootstrap
  if (jQuery('body').is('.WikispacesBs3')) {
    coreOptions.content_css.push('../www.wikispaces.com//s/internal-bootstrap-body.css');
  }

  var mainOptions = {
    'wssave_cancel_url': '/Separating+the+Fields+and+Geometric+Correction+%28contd%29',
    'wsimage_upload_url': 'https://colour-recovery.github.io/file/multiupload',
    'wsimage_max_file_size_mb': '50',
    'wsimage_page_view_group': ''
  };

  ws.editor.loadEditor(jQuery.extend(coreOptions, moreCoreOptions), jQuery.extend(mainOptions, moreMainOptions));
};

  var wikispaces_page_version = '51668735';

  jQuery(document).ready(function() {
    ws.editor.enableButtons();
  });



--></script><!-- w23 201 tot:201:201(1) mem:41:63(65) wki:55:58(3) dql:1:14(11) mog:5:5(1) -->

</body>
</html>